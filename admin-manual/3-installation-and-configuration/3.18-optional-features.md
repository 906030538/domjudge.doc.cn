# 3.18 可选功能

### Multiple judgedaemons per machine

You can run multiple judgedaemons on one multi-cpu or multi-core machine, dedicating one cpu core to each judgedaemon.

To that end, add extra unprivileged users to the system, i.e. add users `domjudge-run-<X>` (where X runs through 0,1,2,3) with useradd as described in section installation of a judgehost. Finally, start each of the judgedaemons with

```shell
judgedaemon -n <X>
```

to bind it to core X.

### Encrypted communications (HTTPS)

DOMjudge can be configured to run on HTTPS, so teams and judgedaemons communicate with the domserver securely over encrypted SSL/TLS connections. Setting up SSL for Apache is documented in the Apache manual and in many tutorials around the web.

The judgedaemons must recognise the CA you're using, otherwise they will refuse to connect over HTTPS. If your judgedaemon gives an error message about an untrusted certificate, put your domserver's certificate in `/etc/ssl/certs/yourname.crt` of each judgehost (and on the team machines when using the commandline submit client) and run:

```shell
sudo c_rehash
```
When loading teams from the ICPC registration system through the import feature in DOMjudge, the certificate from icpc.baylor.edu must similarly be accepted by your local installation or if not, added via the procedure above.

### NTP time synchronisation

We advise to install an NTP-daemon (Network Time Protocol) to make sure the time between domserver, judgehosts, and jury and team computers is in sync.

### Printing

It is recommended to configure the local desktop printing of team workstations where ever possible: this has the most simple interface and allows teams to print from within their editor.

If this is not feasible, DOMjudge includes support for printing via the DOMjudge web interface: the DOMjudge server then needs to be able to deliver the uploaded files to the printer. It can be enabled via the `enable_printing` configuration option in the administrator interface. The exact command used to send the files to a printer can be changed in the function `send_print()` in `lib/www/printing.php`

### Judging consistency

The following issues can be considered to improve consistency in judging.

- Disable CPU frequency scaling and Intel "Turbo Boost" to prevent fluctuations in CPU power.
- Disable address-space randomization to make programs with memory addressing bugs give more reproducible results. To do that, you can add the following line to `/etc/sysctl.conf`:

  ```shell
  kernel.randomize_va_space=0
  ```

  This will restore these settings permanently across reboots. Then run the following command: `sudo sysctl -p` to directly activate these settings.
